---
import Layout from "@/layouts/Layout.astro";
import Header from "@/components/Header.astro";
import Footer from "@/components/Footer.astro";
import PickMyBrainButton from "@/components/PickMyBrainButton.astro";
import Hr from "@/components/Hr.astro";
import Testimonial from "@/components/Testimonial.astro";

const problems = [
  {
    title: "Our TCA reducer is 800 lines and we don't know how to split it",
    format: "60–90 minutes",
    steps: [
      "Review the reducer live, identify seams, and sketch the module structure.",
      "Pair through one extraction to model the pattern.",
      "Document the approach so the team can apply it across the codebase.",
    ],
    outcome: "Decomposed a monolithic reducer into four child reducers, each under 200 lines, in two sessions.",
  },
  {
    title: "Our AI prompt works in testing but fails in production",
    format: "90–120 minutes",
    steps: [
      "Inspect logs and failure cases to isolate variability.",
      "Redesign the prompt with examples, constraints, and evaluation hooks.",
      "Set up a lightweight harness so you can keep it stable post-session.",
    ],
    outcome: "Stabilised transcription prompts and avoided €2k of monthly LLM overages by adding validation rules.",
  },
  {
    title: "We're migrating to SwiftUI and need a sanity check",
    format: "60 minutes",
    steps: [
      "Review your architecture diagram and current implementation.",
      "Call out anti-patterns before they spread.",
      "Agree on patterns, testing strategy, and rollout order.",
    ],
    outcome: "Prevented a team from rebuilding navigation twice by validating the coordinator approach before sprinting.",
  },
  {
    title: "Our build time is 12 minutes and we've tried the obvious fixes",
    format: "90–120 minutes",
    steps: [
      "Inspect build logs and target configuration to spot non-obvious bottlenecks.",
      "Pair on Xcode build settings, caching, and dependency graph tweaks.",
      "Outline next experiments and benchmarks to confirm improvements.",
    ],
    outcome: "Found a misconfigured module triggering full rebuilds and cut builds from 12 minutes to 5 minutes in one afternoon.",
  },
  {
    title: "We want to prototype an AI feature but don't know where to start",
    format: "120 minutes",
    steps: [
      "Scope the thinnest slice that proves value.",
      "Build a working prototype together (tooling, prompts, integration glue).",
      "Document next steps and risks so you can iterate confidently.",
    ],
    outcome: "Built an on-device code completion prototype that gave a founder team a clear go/no-go decision.",
  },
];

const comparison = {
  sessions: [
    "Tactical problem to solve this week.",
    "Need validation before investing weeks of engineering time.",
    "Want a second opinion on architecture or migration decisions.",
    "Urgent unblockers that can't wait for a retainer cadence.",
  ],
  sprint: [
    "Major bottleneck impacting revenue or delivery.",
    "Team can execute over six weeks with architectural oversight.",
    "Budget of €12k–€18k for a comprehensive fix.",
    "Needs sustained design authority rather than a single session.",
  ],
  retainer: [
    "Ongoing need for principal-level guidance each month.",
    "Steady stream of PRs and decisions that deserve expert review.",
    "Tech lead wants a consistent sparring partner.",
    "Comfortable with a three-month commitment at €1,600/month.",
  ],
};

const bookingOptions = [
  {
    title: "Unblock a TCA or SwiftUI decision",
    description: "Solve architecture questions before they slow your roadmap.",
  },
  {
    title: "Fix a performance or build issue",
    description: "Profile together, pinpoint root causes, and leave with a prioritized fix list.",
  },
  {
    title: "Make an AI feature production-ready",
    description: "Add guardrails, evaluation, and cost control to prototypes before launch.",
  },
  {
    title: "Validate a big architecture bet",
    description: "Pressure-test design docs and plan the migration path before committing.",
  },
  {
    title: "Prototype quickly",
    description: "Pair on a thin slice so you can pitch stakeholders with working software.",
  },
  {
    title: "Weekly mentorship",
    description: "Reserve recurring sessions to level up senior ICs on iOS architecture and AI workflows.",
  },
];

const logistics = [
  {
    title: "Booking",
    items: [
      "Reserve 60–120 minute slots via Cal.com. Most weeks have availability within 2–3 days.",
      "For urgent same-day help, email igor@tarasenko.dev after booking so I can confirm quickly.",
    ],
  },
  {
    title: "Preparation",
    items: [
      "Share repo access, problem description, and constraints at least 24 hours ahead.",
      "I review context beforehand so we start the session already in problem-solving mode.",
    ],
  },
  {
    title: "During the session",
    items: [
      "We work over video with screen sharing and live coding or whiteboarding as needed.",
      "Everything we decide is written down in a shared document so nothing is lost.",
    ],
  },
  {
    title: "After the session",
    items: [
      "You receive a written summary, action items, and any code snippets or diagrams we produced.",
      "24-hour Slack follow-up is included for clarifications on what we covered.",
    ],
  },
  {
    title: "Pricing",
    items: [
      "€200 per hour, billed in 30-minute increments after the first hour.",
      "Minimum 60 minutes. Pre-purchase 5 or 10 hour packs for teams who want recurring support.",
      "If you're not satisfied after the first 30 minutes, I waive the invoice—no one has had to use this yet.",
    ],
  },
];

const faqs = [
  {
    question: "How fast can we book a session?",
    answer:
      "Most sessions schedule within a couple of days. If you have an emergency, book the earliest slot and email me—retainer clients get priority, but I keep flex time for urgent issues.",
  },
  {
    question: "Do you record the call?",
    answer:
      "Yes, unless you prefer otherwise. You'll receive the recording plus written notes and follow-up actions so the team can reference them later.",
  },
  {
    question: "Can a session turn into a sprint or retainer?",
    answer:
      "Absolutely. Many teams start with one or two sessions. If we uncover a six-week project, we scope the Sprint. If you need ongoing oversight, you can transition into the €1,600/month retainer.",
  },
  {
    question: "Who should join the call?",
    answer:
      "Bring the engineers closest to the problem and the person accountable for the decision. Sessions are hands-on—we solve, prototype, or decide together in real time.",
  },
];

const serviceSchema = {
  "@context": "https://schema.org",
  "@type": "Service",
  serviceType: "On-Demand iOS & AI Consulting Sessions",
  provider: {
    "@type": "Person",
    name: "Igor Tarasenko",
  },
  areaServed: "Worldwide",
  description:
    "On-demand iOS and AI architecture sessions priced at €200/hr. Book 60–120 minute blocks for rapid unblocking, validation, or mentorship.",
  offers: {
    "@type": "Offer",
    priceCurrency: "EUR",
    price: "200",
    priceSpecification: {
      "@type": "UnitPriceSpecification",
      price: "200",
      priceCurrency: "EUR",
      unitText: "hour",
    },
  },
};
---

<Layout
  title="Get Unstuck Fast: €200/hr iOS & AI Sessions"
  description="On-demand iOS and AI consulting sessions at €200/hour. Book 60–120 minute blocks to unblock architecture decisions, stabilise AI features, or triage performance issues."
  structuredData={[serviceSchema]}
>
  <Header />
  <main id="main-content" class="mx-auto max-w-4xl px-4 py-16 space-y-16">
    <section class="space-y-6 text-left">
      <p class="text-sm uppercase tracking-wide text-accent">On-Demand Support · Book Within Days</p>
      <h1 class="text-4xl font-bold leading-tight md:text-5xl">Get Unstuck Fast: €200/hr iOS &amp; AI Sessions</h1>
      <h2 class="text-2xl font-semibold text-foreground/90">Book expert help when you need it, not when HR approves a hire</h2>
      <p class="text-base text-foreground/80">
        Your team is blocked on a stubborn reducer, an AI prompt fails in production, or your build pipeline just doubled in time. Sessions give you principal-level help within days so you can get back to shipping.
      </p>
      <div class="grid gap-4 rounded-lg border border-border bg-background/40 p-6 text-sm text-foreground/80 md:grid-cols-2">
        <p><strong>Rate:</strong> €200/hour (60–120 minute bookings)</p>
        <p><strong>Availability:</strong> Limited slots held each week for rapid support</p>
        <p><strong>Best for:</strong> Tactical unblocking, validation, prototypes, and senior mentorship</p>
        <p><strong>Upgrade path:</strong> Scale into a 6-week Sprint or monthly Retainer if you need deeper help</p>
      </div>
      <div class="flex flex-col items-start gap-4 sm:flex-row sm:items-center">
        <PickMyBrainButton
          variant="pushable"
          duration="60min"
          text="Book a Session"
          eventName="Conversion: Session Booking"
          eventCategory="conversion"
          eventProps={{ service: "sessions", placement: "hero", product: "booking" }}
        />
      </div>
      <p class="text-sm text-foreground/70">
        Need a larger engagement? Explore the <a class="text-accent" href="/deep-dive">6-week Sprint</a> or the <a class="text-accent" href="/advisory">Design Authority Retainer</a>.
      </p>
    </section>

    <Testimonial
      quote="Igor was so great to work with! We were able to figure out the solution to something we've been stuck on for over 2 days in less than an hour!"
      author="Alina Liu"
    />

    <Hr />

    <section class="space-y-8">
      <h2 class="text-2xl font-semibold">Common Problems Solved in 1–2 Sessions</h2>
      <div class="space-y-6">
        {problems.map(problem => (
          <article class="rounded-lg border border-border bg-background/40 p-6 space-y-3">
            <header class="space-y-2">
              <h3 class="text-lg font-semibold text-accent">{problem.title}</h3>
              <p class="text-sm text-foreground/70"><strong>Typical format:</strong> {problem.format}</p>
            </header>
            <div class="space-y-2">
              <h4 class="text-sm font-semibold uppercase tracking-wide text-foreground/60">What we do</h4>
              <ul class="list-disc list-inside space-y-2 text-sm text-foreground/80">
                {problem.steps.map(step => (
                  <li>{step}</li>
                ))}
              </ul>
            </div>
            <p class="text-sm text-foreground/70"><strong>Recent outcome:</strong> {problem.outcome}</p>
          </article>
        ))}
      </div>
    </section>

    <Hr />

    <section class="space-y-6">
      <h2 class="text-2xl font-semibold">Choosing Between Sessions, Sprint, and Retainer</h2>
      <div class="grid gap-6 md:grid-cols-3">
        <article class="rounded-lg border border-border bg-background/40 p-6">
          <h3 class="text-lg font-semibold text-accent">Book Sessions when…</h3>
          <ul class="mt-3 list-disc list-inside space-y-2 text-sm text-foreground/80">
            {comparison.sessions.map(item => (
              <li>{item}</li>
            ))}
          </ul>
        </article>
        <article class="rounded-lg border border-border bg-background/40 p-6">
          <h3 class="text-lg font-semibold text-accent">Choose the Sprint when…</h3>
          <ul class="mt-3 list-disc list-inside space-y-2 text-sm text-foreground/80">
            {comparison.sprint.map(item => (
              <li>{item}</li>
            ))}
          </ul>
        </article>
        <article class="rounded-lg border border-border bg-background/40 p-6">
          <h3 class="text-lg font-semibold text-accent">Pick the Retainer when…</h3>
          <ul class="mt-3 list-disc list-inside space-y-2 text-sm text-foreground/80">
            {comparison.retainer.map(item => (
              <li>{item}</li>
            ))}
          </ul>
        </article>
      </div>
      <p class="text-sm text-foreground/70">
        Most teams start with one session to validate fit. If we uncover a six-week initiative, we scope the Sprint. When you want ongoing monthly guidance, the retainer keeps decisions flowing.
      </p>
    </section>

    <Hr />

    <section class="space-y-6">
      <h2 class="text-2xl font-semibold">Book by Problem Type</h2>
      <div class="grid gap-6 md:grid-cols-2">
        {bookingOptions.map(option => (
          <article class="rounded-lg border border-border bg-background/40 p-6 space-y-2">
            <h3 class="text-lg font-semibold text-accent">{option.title}</h3>
            <p class="text-sm text-foreground/80">{option.description}</p>
            <a
              class="inline-flex text-sm text-accent"
              href="https://cal.com/tarasenko/60min"
              target="_blank"
              rel="noreferrer"
              data-stats-event="Conversion: Session Booking"
              data-stats-category="conversion"
              data-stats-props={JSON.stringify({
                service: "sessions",
                placement: "problem-type",
                variant: option.title,
              })}
            >
              Book this session →
            </a>
          </article>
        ))}
      </div>
    </section>

    <Hr />

    <section class="space-y-6">
      <h2 class="text-2xl font-semibold">How Sessions Work</h2>
      <div class="space-y-4">
        {logistics.map(section => (
          <article class="rounded-lg border border-border bg-background/40 p-6 space-y-2">
            <h3 class="text-lg font-semibold text-accent">{section.title}</h3>
            <ul class="list-disc list-inside space-y-2 text-sm text-foreground/80">
              {section.items.map(item => (
                <li>{item}</li>
              ))}
            </ul>
          </article>
        ))}
      </div>
    </section>

    <Hr />

    <section class="space-y-4" aria-labelledby="sessions-faq">
      <div>
        <h2 id="sessions-faq" class="text-2xl font-semibold">Frequently Asked Questions</h2>
      </div>
      <div class="space-y-4">
        {faqs.map(item => (
          <details class="rounded-lg border border-border bg-background/30 p-4">
            <summary class="cursor-pointer text-lg font-semibold">{item.question}</summary>
            <p class="mt-3 text-sm text-foreground/80">{item.answer}</p>
          </details>
        ))}
      </div>
    </section>

    <Hr />

    <section class="space-y-4">
      <h2 class="text-2xl font-semibold">Ready to Get Unstuck?</h2>
      <p class="text-sm text-foreground/80">
        Book a session, include context and repos, and we'll walk out with decisions made, blockers removed, and a short action plan for your team.
      </p>
      <div class="flex flex-col gap-4 sm:flex-row sm:items-center">
        <PickMyBrainButton
          variant="pushable"
          duration="60min"
          text="Book Engineering Session"
          eventName="Conversion: Session Booking"
          eventCategory="conversion"
          eventProps={{ service: "sessions", placement: "closing-cta", product: "booking" }}
        />
      </div>
      <p class="text-sm text-foreground/70">
        Looking for longer-term support? <a class="text-accent" href="/consulting">Compare all consulting options →</a>
      </p>
    </section>
  </main>
  <Footer />
</Layout>
